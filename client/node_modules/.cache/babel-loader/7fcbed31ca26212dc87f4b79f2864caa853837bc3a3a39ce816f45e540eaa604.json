{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sahil\\\\Documents\\\\College\\\\Software Development\\\\fakeStackOverflow\\\\fakeStackOverflow\\\\client\\\\src\\\\components\\\\voteMechanism.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Vote extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      oid: this.props.objId,\n      votes: this.props.votes\n    };\n    this.upvote = this.upvote.bind(this);\n    this.downvote = this.downvote.bind(this);\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.objId !== prevProps.objId || this.props.votes !== prevProps.votes) {\n      this.setState({\n        oid: this.props.objId,\n        votes: this.props.votes\n      });\n    }\n  }\n  componentDidMount() {\n    // this.updateVote(0);\n  }\n  updateVote(inc) {\n    // if(inc === 0) return;\n    let username = Cookies.get(\"user\");\n    let data = {\n      oid: this.state.oid,\n      inc: inc,\n      votes: this.state.votes,\n      username: username\n    };\n\n    // console.log(this.state.oid);\n    let func = this.props.showError;\n    axios.post(\"http://127.0.0.1:8000/vote\", data).then(res => {\n      if (res.data.cmt === \"Reputation problem\") {\n        document.getElementById(this.state.oid).textContent = \"*Your reputation is not good. Must be reputation > 50 to vote.\";\n        // return;\n      } else {\n        document.getElementById(this.state.oid).textContent = \"\";\n      }\n\n      // console.log(\"SUBMITTED: \" + this.state.value);\n      // this.state.comments.push(this.state.value);\n      // this.props.rerender();\n      // console.log(res.data.votes);'\n\n      this.setState({\n        votes: res.data.votes\n      });\n    }).catch(function (error) {\n      func();\n    });\n  }\n  upvote() {\n    this.updateVote(1);\n  }\n  downvote() {\n    this.updateVote(-1);\n  }\n  render() {\n    let id = this.state.oid;\n    let isLoggedIn;\n    if (Cookies.get(\"user\")) {\n      isLoggedIn = true;\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [isLoggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reglogbuttonView\",\n        onClick: this.upvote,\n        children: \"Upvote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"numVotes\",\n        children: [this.state.votes, \" votes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), isLoggedIn && !this.props.comment && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reglogbuttonView\",\n        onClick: this.downvote,\n        children: \"Downvote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: id,\n        style: {\n          marginLeft: \"40%\",\n          fontSize: \"35px\",\n          color: \"red\",\n          fontStyle: \"italic\",\n          marginTop: \"2%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","axios","Cookies","jsxDEV","_jsxDEV","Vote","Component","constructor","props","state","oid","objId","votes","upvote","bind","downvote","componentDidUpdate","prevProps","setState","componentDidMount","updateVote","inc","username","get","data","func","showError","post","then","res","cmt","document","getElementById","textContent","catch","error","render","id","isLoggedIn","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","comment","style","marginLeft","fontSize","color","fontStyle","marginTop"],"sources":["C:/Users/sahil/Documents/College/Software Development/fakeStackOverflow/fakeStackOverflow/client/src/components/voteMechanism.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default class Vote extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      oid: this.props.objId,\r\n      votes: this.props.votes,\r\n    };\r\n\r\n    this.upvote = this.upvote.bind(this);\r\n    this.downvote = this.downvote.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      this.props.objId !== prevProps.objId ||\r\n      this.props.votes !== prevProps.votes\r\n    ) {\r\n      this.setState({ oid: this.props.objId, votes: this.props.votes });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.updateVote(0);\r\n  }\r\n\r\n  updateVote(inc) {\r\n    // if(inc === 0) return;\r\n    let username = Cookies.get(\"user\");\r\n    let data = {\r\n      oid: this.state.oid,\r\n      inc: inc,\r\n      votes: this.state.votes,\r\n      username: username,\r\n    };\r\n\r\n    // console.log(this.state.oid);\r\n    let func = this.props.showError;\r\n    axios\r\n      .post(\"http://127.0.0.1:8000/vote\", data)\r\n      .then((res) => {\r\n        if (res.data.cmt === \"Reputation problem\") {\r\n          document.getElementById(this.state.oid).textContent =\r\n            \"*Your reputation is not good. Must be reputation > 50 to vote.\";\r\n          // return;\r\n        } else {\r\n          document.getElementById(this.state.oid).textContent = \"\";\r\n        }\r\n\r\n        // console.log(\"SUBMITTED: \" + this.state.value);\r\n        // this.state.comments.push(this.state.value);\r\n        // this.props.rerender();\r\n        // console.log(res.data.votes);'\r\n\r\n        this.setState({ votes: res.data.votes });\r\n      })\r\n      .catch(function (error) {\r\n        func();\r\n      });\r\n  }\r\n\r\n  upvote() {\r\n    this.updateVote(1);\r\n  }\r\n\r\n  downvote() {\r\n    this.updateVote(-1);\r\n  }\r\n\r\n  render() {\r\n    let id = this.state.oid;\r\n    let isLoggedIn;\r\n    if (Cookies.get(\"user\")) {\r\n      isLoggedIn = true;\r\n    }\r\n\r\n    return (\r\n      <span>\r\n        {isLoggedIn && (\r\n          <button className=\"reglogbuttonView\" onClick={this.upvote}>\r\n            Upvote\r\n          </button>\r\n        )}\r\n        <span id=\"numVotes\">{this.state.votes} votes</span>\r\n        {isLoggedIn && !this.props.comment && (\r\n          <button className=\"reglogbuttonView\" onClick={this.downvote}>\r\n            Downvote\r\n          </button>\r\n        )}\r\n        <br />\r\n        <div\r\n          id={id}\r\n          style={{\r\n            marginLeft: \"40%\",\r\n            fontSize: \"35px\",\r\n            color: \"red\",\r\n            fontStyle: \"italic\",\r\n            marginTop: \"2%\",\r\n          }}\r\n        ></div>\r\n        <br />\r\n      </span>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,eAAe,MAAMC,IAAI,SAASL,KAAK,CAACM,SAAS,CAAC;EAChDC,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACXC,GAAG,EAAE,IAAI,CAACF,KAAK,CAACG,KAAK;MACrBC,KAAK,EAAE,IAAI,CAACJ,KAAK,CAACI;IACpB,CAAC;IAED,IAAI,CAACC,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC;IACpC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC;EAC1C;EAEAE,kBAAkBA,CAACC,SAAS,EAAE;IAC5B,IACE,IAAI,CAACT,KAAK,CAACG,KAAK,KAAKM,SAAS,CAACN,KAAK,IACpC,IAAI,CAACH,KAAK,CAACI,KAAK,KAAKK,SAAS,CAACL,KAAK,EACpC;MACA,IAAI,CAACM,QAAQ,CAAC;QAAER,GAAG,EAAE,IAAI,CAACF,KAAK,CAACG,KAAK;QAAEC,KAAK,EAAE,IAAI,CAACJ,KAAK,CAACI;MAAM,CAAC,CAAC;IACnE;EACF;EAEAO,iBAAiBA,CAAA,EAAG;IAClB;EAAA;EAGFC,UAAUA,CAACC,GAAG,EAAE;IACd;IACA,IAAIC,QAAQ,GAAGpB,OAAO,CAACqB,GAAG,CAAC,MAAM,CAAC;IAClC,IAAIC,IAAI,GAAG;MACTd,GAAG,EAAE,IAAI,CAACD,KAAK,CAACC,GAAG;MACnBW,GAAG,EAAEA,GAAG;MACRT,KAAK,EAAE,IAAI,CAACH,KAAK,CAACG,KAAK;MACvBU,QAAQ,EAAEA;IACZ,CAAC;;IAED;IACA,IAAIG,IAAI,GAAG,IAAI,CAACjB,KAAK,CAACkB,SAAS;IAC/BzB,KAAK,CACF0B,IAAI,CAAC,4BAA4B,EAAEH,IAAI,CAAC,CACxCI,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACL,IAAI,CAACM,GAAG,KAAK,oBAAoB,EAAE;QACzCC,QAAQ,CAACC,cAAc,CAAC,IAAI,CAACvB,KAAK,CAACC,GAAG,CAAC,CAACuB,WAAW,GACjD,gEAAgE;QAClE;MACF,CAAC,MAAM;QACLF,QAAQ,CAACC,cAAc,CAAC,IAAI,CAACvB,KAAK,CAACC,GAAG,CAAC,CAACuB,WAAW,GAAG,EAAE;MAC1D;;MAEA;MACA;MACA;MACA;;MAEA,IAAI,CAACf,QAAQ,CAAC;QAAEN,KAAK,EAAEiB,GAAG,CAACL,IAAI,CAACZ;MAAM,CAAC,CAAC;IAC1C,CAAC,CAAC,CACDsB,KAAK,CAAC,UAAUC,KAAK,EAAE;MACtBV,IAAI,CAAC,CAAC;IACR,CAAC,CAAC;EACN;EAEAZ,MAAMA,CAAA,EAAG;IACP,IAAI,CAACO,UAAU,CAAC,CAAC,CAAC;EACpB;EAEAL,QAAQA,CAAA,EAAG;IACT,IAAI,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC;EACrB;EAEAgB,MAAMA,CAAA,EAAG;IACP,IAAIC,EAAE,GAAG,IAAI,CAAC5B,KAAK,CAACC,GAAG;IACvB,IAAI4B,UAAU;IACd,IAAIpC,OAAO,CAACqB,GAAG,CAAC,MAAM,CAAC,EAAE;MACvBe,UAAU,GAAG,IAAI;IACnB;IAEA,oBACElC,OAAA;MAAAmC,QAAA,GACGD,UAAU,iBACTlC,OAAA;QAAQoC,SAAS,EAAC,kBAAkB;QAACC,OAAO,EAAE,IAAI,CAAC5B,MAAO;QAAA0B,QAAA,EAAC;MAE3D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT,eACDzC,OAAA;QAAMiC,EAAE,EAAC,UAAU;QAAAE,QAAA,GAAE,IAAI,CAAC9B,KAAK,CAACG,KAAK,EAAC,QAAM;MAAA;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EAClDP,UAAU,IAAI,CAAC,IAAI,CAAC9B,KAAK,CAACsC,OAAO,iBAChC1C,OAAA;QAAQoC,SAAS,EAAC,kBAAkB;QAACC,OAAO,EAAE,IAAI,CAAC1B,QAAS;QAAAwB,QAAA,EAAC;MAE7D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT,eACDzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACNzC,OAAA;QACEiC,EAAE,EAAEA,EAAG;QACPU,KAAK,EAAE;UACLC,UAAU,EAAE,KAAK;UACjBC,QAAQ,EAAE,MAAM;UAChBC,KAAK,EAAE,KAAK;UACZC,SAAS,EAAE,QAAQ;UACnBC,SAAS,EAAE;QACb;MAAE;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACPzC,OAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAEX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}